####### Lammps input script for evaporating lj fluid ########

units 	       lj
dimension      3
newton 	       on
boundary        p p f
atom_style     body	rounded/polyhedron 1 20

###### Variables ######
#######################

variable	steps      equal	10000000

variable       	epsilon    equal 	1

variable       	sigma      equal 	1

variable       	cutoff     equal 	3.5

variable       	evapRate   equal		1000

variable 	temp	   equal	0.75
##### initialization ######
###########################

region		simBox	block	0 13.84	0 15.99 0 22.0 units box  
#create_box	2  simBox 
read_data   	data.sphere 	group	lj#	add append

replicate      	20 20 40

#region 	       surface block 0 10 0 10 9 10


##### potential parameters ######
#################################

pair_style     lj/cut ${cutoff}

pair_modify    shift yes

pair_coeff     * * ${epsilon} ${sigma}


##### simulation settings #########
###################################


comm_modify    vel yes

neighbor       0.5	bin

neigh_modify   every 1 delay 0 check yes

timestep       0.005


######## fixes ###########
##########################

fix	1 all nvt/body temp 1.0 ${temp} 1.0


variable   epsilonWall equal 2*${epsilon}

variable   cutoffTop   equal   0.7147*${sigma}
variable   cutoffLow   equal   3*${sigma}

fix 	topWall all wall/lj93 zhi EDGE ${epsilonWall} ${sigma} ${cutoffTop} &
		    	      	       units box
				       
fix 	lowWall all wall/lj93 zlo EDGE ${epsilonWall} ${sigma} ${cutoffLow} &
		    	      	       units box

#fix 	3 all evaporate ${evapRate} 1 surface 516153


######## dumps ###########
##########################

dump	image	all image 1000 *.png	type type adiam ${sigma} &
		    	       zoom 2.0
			   

dump 	movie 	all movie 1000 movie.avi type type size 640 480 &
		    	       zoom 2.0
			   
####### final setup #######
###########################


velocity      	    all create 1.0 78994

thermo_style  	    custom step temp etotal pe ke press vol density

thermo 	      	    1000

run_style	    verlet

run 		    ${steps}




